name: multistep_example

### Defaul behaviour
### Creates a new conda environment for the experiment run
### Environment is named mlflow-{hash}
### This environment is not deleted, but is reused
# conda_env: conda.yaml

entry_points:
  main:
    parameters:
      input: { type: string, default: "../../../../data/forestfires.csv" } 
      config: { type: string, default: "../../config/config.ini" }  
      config_yaml: { type: string, default: "../../config/config.yaml" } 
      input_key: { type: string, default: "forest_fires" } 
      out_dir: { type: string, default: "../../../../out" } 
    command: python tpot_pipeline.py   --input {input} --config {config} --config_yaml {config_yaml}
                              --input_key {input_key} --out_dir {out_dir}
